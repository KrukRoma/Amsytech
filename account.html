<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AMSYTECH</title>
    <link rel="shortcut icon" href="/images/AmsytechLogoImage.svg">
    <link rel="stylesheet" href="/style/account.css">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
    <script src="/js/config.js"></script>
    <script src="/js/localStorage.js"></script>
    <script src="/js/script.js"></script>
    <style>
        body.hidden {
            visibility: hidden;
        }
    </style>
</head>
<body class="hidden">
    <header class="header">
        <div class="header-container">
            <div class="logo">
                <img src="images/5425129490188724738.jpg" alt="AMSYTECH Logo">
                <span class="logo-text">AMSYTECH</span>
            </div>
            
            <nav class="nav-menu">
                <a href="index.html" class="nav-button">Головна</a>
                <a href="products.html" class="nav-button">Продукти</a>
                <a href="services.html" class="nav-button">Послуги</a>
                <a href="gallery.html" class="nav-button">Галерея</a>
                <a href="contacts.html" class="nav-button">Контакти</a>
            </nav>

            <div class="utility-icons">
                <img src="images/5425129490188725190.jpg" alt="Language">
                <a href="cart.html">
                    <img src="images/5425129490188725192.jpg" alt="Cart">
                </a>                
                <div id="userIconContainer">
                    <img src="images/5425129490188725198.jpg" alt="User" id="defaultUserIcon">
                </div>
            </div>
        </div>
    </header>

    <div class="main-container">
        <div class="main-content"> 
            <h1>Мій акаунт</h1>
            <div id="greetingMessage"></div> <!-- Місце для привітання -->
            
            <!-- Кнопка для адміна -->
            <div id="adminButtonContainer"></div>

            <button id="logoutButton">Вийти з акаунту</button> <!-- Кнопка виходу -->
        </div>
    </div>

    <footer class="footer">
        <div class="footer-container">
            <div class="footer-columns">
                <div class="logo-container">
                  <img src="images/5425129490188724738.jpg" alt="AMSYTECH Logo">
                  <span class="footer-text">AMSYTECH</span>
                </div>
                <p class="copyright">© Copyright - amsytech.com.ua 2019 - 2025</p>
            </div>              

            <div class="footer-column">
                <h3>ГРАФІК РОБОТИ CALL-ЦЕНТРУ</h3>
                <p>Пн - Пт: 09:00-19:00</p>
                <п>Сб: вихідний</п>
                <п>Нд: вихідний</п>
            </div>

            <div class="footer-column-help">
                <h3>Допомога</h3>
                <п>Доставка та оплата</п>
                <п>Кредит</п>
                <п>Гарантія</п>
                <п>Повернення товару</п>
                <п>Сервісні центри</п>
            </div>

            <div class="footer-column">
                <h3>ЯК ЗВ'ЯЗАТИСЯ</h3>
                <img src="images/5425129490188725191.jpg" alt="Mail">
                <п>info@ams.org.ua</п>
                <img src="images/5425129490188725197.jpg" alt="Kyivstar">
                <п>(097) 599-74-65</п>
                <img src="images/5425129490188725193.jpg" alt="Vodafone">
                <п>(050) 770-54-91</п>
                <h3>ПРИЙМАЄМО ДО ОПЛАТИ</h3>
                <div class="payment-methods">
                    <img src="images/5425129490188725195.jpg" alt="Mastercard">
                    <img src="images/5425129490188725194.jpg" alt="Visa">
                    <img src="images/5425129490188725196.jpg" alt="Privat24">
                </div>
            </div>
        </div>
    </footer>

  <script>
    document.addEventListener('DOMContentLoaded', function () {
        // Перевіряємо, чи користувач залогінений
        if (LocalStorage.isLoggedIn()) {
            const user = LocalStorage.getUser();

            // Виводимо привітання з іменем користувача
            const greetingMessage = `Привіт, ${user.name}!`;
            document.getElementById('greetingMessage').textContent = greetingMessage;

            // Оновлюємо іконку користувача
            const userIconContainer = document.getElementById('userIconContainer');
            userIconContainer.innerHTML = `<div class="user-icon">${user.name.charAt(0)}</div>`; // Перша буква імені

            // Якщо це адмін, додаємо кнопку для переходу на admin.html
            if (user.role === 'admin') {
                const adminButtonContainer = document.getElementById('adminButtonContainer');
                const adminButton = document.createElement('button');
                adminButton.textContent = 'Перейти до панелі адміністратора';
                adminButton.addEventListener('click', function() {
                    window.location.href = 'admin.html';
                });
                adminButtonContainer.appendChild(adminButton);
            }

            // Додаємо подію на кнопку для виходу з акаунту
            document.getElementById('logoutButton').addEventListener('click', function() {
                // Видаляємо дані користувача
                LocalStorage.removeUser(); 

                // Показуємо повідомлення
                alert('Ви успішно вийшли з акаунту');

                // Перенаправляємо на головну сторінку
                window.location.replace('index.html');
            });
        } else {
            // Якщо користувач не залогінений, перенаправляємо на головну сторінку
            alert('Ви не залогінені. Перенаправляємо на головну сторінку...');
            window.location.href = 'index.html';
        }

        // Робимо сторінку видимою після завантаження аватарки
        setTimeout(function() {
            document.body.classList.remove('hidden'); // Повністю відкриваємо сторінку
        }, 100); // Додати трохи затримки для впевненості
    });
  </script>
</body>
</html>